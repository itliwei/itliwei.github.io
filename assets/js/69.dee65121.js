(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{518:function(s,t,a){"use strict";a.r(t);var v=a(11),p=Object(v.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"rest开发规范"}},[s._v("REST开发规范")]),s._v(" "),a("h2",{attrs:{id:"接口json响应格式规范"}},[s._v("接口JSON响应格式规范")]),s._v(" "),a("p",[s._v("统一根据Http状态码判断响应是否正确")]),s._v(" "),a("p",[s._v("Http响应码理解")]),s._v(" "),a("p",[s._v("200 正常响应")]),s._v(" "),a("p",[s._v("301、302 重定向")]),s._v(" "),a("p",[s._v("400 错误请求，用于客户端响应给用户的错误")]),s._v(" "),a("p",[s._v("401 未验证")]),s._v(" "),a("p",[s._v("403 没有权限")]),s._v(" "),a("p",[s._v("404 找不到资源")]),s._v(" "),a("p",[s._v("405 请求方式错误（例：服务器要求POST方式，客户端使用GET则响应该错误）")]),s._v(" "),a("p",[s._v("500 服务器内部错误")]),s._v(" "),a("p",[s._v("502 服务不可用")]),s._v(" "),a("p",[s._v("400~404的错误需要客户端告知用户，405为开发时可能发生的错误，500以上的错误客户端只需要告诉用户服务器异常即可。")]),s._v(" "),a("p",[s._v("错误处理统一返回Json格式\n异常或错误返回统一Json格式")]),s._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"001"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"sys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"系统名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"some error message"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("正确Json数据响应")]),s._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a right data"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dataArr"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"a"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aa"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"b"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bb"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"接口版本控制及接口命名规范"}},[s._v("接口版本控制及接口命名规范")]),s._v(" "),a("p",[s._v("版本控制统一采用path参数的方式，且为最后一个path参数，放到路径末尾，以v开头数字版本号结尾。")]),s._v(" "),a("p",[s._v("例如，用户接口")]),s._v(" "),a("p",[s._v("正确：/users/v1，/users/app/v1，/users/{id}/v1")]),s._v(" "),a("p",[s._v("错误：/v1/users，/users/v1/app，/users/v1/{id}")]),s._v(" "),a("p",[s._v("资源获取接口都采用资源复数形式命名，增删改查通过请求方式区分（GET，POST，PUT，DELETE，PATCH：单属性修改）")]),s._v(" "),a("p",[s._v("以用户（user）举例")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("接口名")]),s._v(" "),a("th",[s._v("path?params")]),s._v(" "),a("th",[s._v("请求方式")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("获取用户列表")]),s._v(" "),a("td",[s._v("/users/v1")]),s._v(" "),a("td",[s._v("GET")])]),s._v(" "),a("tr",[a("td",[s._v("添加用户")]),s._v(" "),a("td",[s._v("/users/v1")]),s._v(" "),a("td",[s._v("POST")])]),s._v(" "),a("tr",[a("td",[s._v("添加用户单个属性")]),s._v(" "),a("td",[s._v("/users/v1?id=1&pwd=pwd或/users/{id}/v1?pwd=pwd或/users/pwd/v1?id=1&pwd=pwd")]),s._v(" "),a("td",[s._v("POST")])]),s._v(" "),a("tr",[a("td",[s._v("修改用户")]),s._v(" "),a("td",[s._v("/users/v1?id=1或/users/{id}/v1")]),s._v(" "),a("td",[s._v("PUT")])]),s._v(" "),a("tr",[a("td",[s._v("删除用户")]),s._v(" "),a("td",[s._v("/users/v1?id=1或/users/v1?id=1,2,3或/users/{id}/v1")]),s._v(" "),a("td",[s._v("DELETE")])]),s._v(" "),a("tr",[a("td",[s._v("修改用户单个属性")]),s._v(" "),a("td",[s._v("/users/v1?id=1&pwd=pwd或/users/{id}/v1?pwd=pwd或/users/pwd/v1?id=1&pwd=pwd")]),s._v(" "),a("td",[s._v("PATCH")])])])]),s._v(" "),a("p",[s._v("对于一对多关系资源采用如下命名方式，例一个用户对应多个APP，操作APP接口命名如下：")]),s._v(" "),a("p",[s._v("/users/{id}/apps/v1")]),s._v(" "),a("p",[s._v("/users/{id}/apps/{id}/v1")])])}),[],!1,null,null,null);t.default=p.exports}}]);