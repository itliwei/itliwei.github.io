(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{442:function(t,a,s){"use strict";s.r(a);var n=s(11),v=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"微服务架构基本思想"}},[t._v("微服务架构基本思想")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("成长的本质就是不断破墙而出的认知觉醒！")]),t._v(" "),s("p",[t._v("你以为你以为的就是你以为的吗？               ----《这不是我的》")]),t._v(" "),s("div",{staticClass:"custom-block right"})]),t._v(" "),s("h2",{attrs:{id:"隔离"}},[t._v("隔离")]),t._v(" "),s("h3",{attrs:{id:"微服务的本质是隔离！"}},[t._v("微服务的本质是隔离！")]),t._v(" "),s("h4",{attrs:{id:"业务隔离"}},[t._v("业务隔离")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("业务分离\n\n层次隔离\n")])])]),s("h4",{attrs:{id:"服务隔离"}},[t._v("服务隔离")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("动静隔离\n\n读写分离\n")])])]),s("h4",{attrs:{id:"轻重分离"}},[t._v("轻重分离")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("核心隔离\n\n快慢隔离\n\n冷热隔离\n")])])]),s("h4",{attrs:{id:"物理隔离"}},[t._v("物理隔离")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("线程隔离\n\n进程隔离\n\n集群隔离\n")])])]),s("h2",{attrs:{id:"提效"}},[t._v("提效")]),t._v(" "),s("h3",{attrs:{id:"微服务的目标是提效"}},[t._v("微服务的目标是提效")]),t._v(" "),s("h4",{attrs:{id:"开发效率"}},[t._v("开发效率")]),t._v(" "),s("p",[t._v("规范化")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("   开发规范\n   \n   代码规范\n   \n   日志规范\n   \n   架构规范\n")])])]),s("p",[t._v("工具化")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  通用jar包\n  \n    orm\n    httpClient\n  \n  脚手架\n  \n    springboot、elementui等\n  \n  插件(maven、chrome、ide)\n")])])]),s("p",[t._v("平台化")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  日志平台\n  链路追踪平台\n  监控平台\n  服务治理平台\n")])])]),s("h4",{attrs:{id:"测试效率"}},[t._v("测试效率")]),t._v(" "),s("p",[t._v("单元测试")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("junit\nmocktio\n")])])]),s("h4",{attrs:{id:"发布效率"}},[t._v("发布效率")]),t._v(" "),s("p",[t._v("CI/CD")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v(" Jenkins\n GitLab CI\n Travis CI\n")])])]),s("p",[t._v("CR")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v(" Gerrit\n")])])]),s("p",[t._v("部署方式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("金丝雀发布(灰度部署)\n\n蓝绿发布\n\n滚动部署\n")])])]),s("h4",{attrs:{id:"运维效率"}},[t._v("运维效率")]),t._v(" "),s("p",[t._v("全链路追踪")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("Skywalking\nZipKin\nPinpoint\n")])])]),s("p",[t._v("统一日志平台")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("ELK\nGraylog\nLoki  \n")])])]),s("p",[t._v("统一监控平台")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("Promethues\n")])])]),s("p",[t._v("在线JVM诊断平台")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("Arthas(阿里)\nBistoury(去哪儿)\n")])])]),s("p",[t._v("服务治理平台")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("服务注册\n服务发现    \n")])])]),s("h3",{attrs:{id:"协同效率"}},[t._v("协同效率")]),t._v(" "),s("h4",{attrs:{id:"流量染色"}},[t._v("流量染色")]),t._v(" "),s("h2",{attrs:{id:"稳定"}},[t._v("稳定")]),t._v(" "),s("h3",{attrs:{id:"微服务的保障是稳定"}},[t._v("微服务的保障是稳定")]),t._v(" "),s("h4",{attrs:{id:"超时保护"}},[t._v("超时保护")]),t._v(" "),s("p",[t._v("没有什么比挂起的请求 和无响应的界面更令人失望。这不仅浪 费资源，而且还会让用户体验变得更差。良好 的超时策略，可以尽可能让服务不堆积请求。")]),t._v(" "),s("p",[t._v("超时设置：设置过长，会造成线程阻塞，可能会造成OOM，设置过短会造成频繁失败。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("nginx\n\ndubbo\n\nhttpClient\n\ndb\n")])])]),s("p",[t._v("超时传递：一个请求每个阶段开始前就要检查是否还有足够的剩余来处理请求。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("http的header里填充req-timeout字段，在设置httpClient的时候动态设置上timeOut。\n")])])]),s("h4",{attrs:{id:"过载保护"}},[t._v("过载保护")]),t._v(" "),s("p",[t._v("系统过载是指当前的外部请求量超过了系统的最大处理能力。其最终目标是在系统过载时，服务还能提供一个稳定的较高的处理能力。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("过载预防：\n  \n  压测\n\n过载处置\n\n  监控告警\n  弹性扩容\n  限流、熔断、降级\n\n过载恢复\n  \n  无状态应用：快速重启\n  有状态应用：按一定策略将状态持久化，重启之后加载持久化的状态数据，状态恢复\n")])])]),s("h4",{attrs:{id:"限流"}},[t._v("限流")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("单机限流\n\n分布式限流\n")])])]),s("h4",{attrs:{id:"降级"}},[t._v("降级")]),t._v(" "),s("h4",{attrs:{id:"熔断"}},[t._v("熔断")]),t._v(" "),s("h4",{attrs:{id:"扩容"}},[t._v("扩容")]),t._v(" "),s("h4",{attrs:{id:"重试策略"}},[t._v("重试策略")]),t._v(" "),s("h4",{attrs:{id:"负载均衡"}},[t._v("负载均衡")]),t._v(" "),s("h4",{attrs:{id:"混沌工程"}},[t._v("混沌工程")])])}),[],!1,null,null,null);a.default=v.exports}}]);