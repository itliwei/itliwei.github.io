(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{443:function(a,t,s){"use strict";s.r(t);var n=s(11),v=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"微服务架构基本思想"}},[a._v("微服务架构基本思想")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("成长的本质就是不断破墙而出的认知觉醒！")]),a._v(" "),s("p",[a._v("你以为你以为的就是你以为的吗？               ----《这不是我的》")]),a._v(" "),s("div",{staticClass:"custom-block right"})]),a._v(" "),s("h2",{attrs:{id:"隔离"}},[a._v("隔离")]),a._v(" "),s("h3",{attrs:{id:"微服务的本质是隔离！"}},[a._v("微服务的本质是隔离！")]),a._v(" "),s("h4",{attrs:{id:"业务隔离"}},[a._v("业务隔离")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("业务分离\n\n层次隔离\n")])])]),s("h4",{attrs:{id:"服务隔离"}},[a._v("服务隔离")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("动静隔离\n\n读写分离\n")])])]),s("h4",{attrs:{id:"轻重分离"}},[a._v("轻重分离")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("核心隔离\n\n快慢隔离\n\n冷热隔离\n")])])]),s("h4",{attrs:{id:"物理隔离"}},[a._v("物理隔离")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("线程隔离\n\n进程隔离\n\n集群隔离\n")])])]),s("h2",{attrs:{id:"提效"}},[a._v("提效")]),a._v(" "),s("h3",{attrs:{id:"微服务的目标是提效"}},[a._v("微服务的目标是提效")]),a._v(" "),s("h4",{attrs:{id:"开发效率"}},[a._v("开发效率")]),a._v(" "),s("p",[a._v("模块化")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("短信、push、消息、支付、订单……\n")])])]),s("p",[a._v("规范化")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("开发规范\n代码规范\n日志规范\n架构规范\n")])])]),s("p",[a._v("工具化")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v(" 通用jar包\n  orm\n  httpClient\n 脚手架\n  springboot：https://start.spring.io/\n  elementui：vue-cli\n 插件(maven、chrome、ide)\n")])])]),s("p",[a._v("平台化")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("  日志平台\n  链路追踪平台\n  监控平台\n  服务治理平台\n")])])]),s("h4",{attrs:{id:"测试效率"}},[a._v("测试效率")]),a._v(" "),s("p",[a._v("单元测试")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("junit\nmocktio\n")])])]),s("p",[a._v("流量染色")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("流量染色是指根据流量协议设置对应的流量染色规则，对指定的流量进行染色标记，并在整个调用链中携带该标记。通过染色流量可以对特定的流量进行跟踪和路由  \n")])])]),s("h4",{attrs:{id:"发布效率"}},[a._v("发布效率")]),a._v(" "),s("p",[a._v("CI/CD")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v(" Jenkins\n GitLab CI\n Travis CI\n")])])]),s("p",[a._v("CR")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v(" Gerrit\n")])])]),s("p",[a._v("部署方式")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("金丝雀发布(灰度部署)\n\n蓝绿发布\n\n滚动部署\n")])])]),s("h4",{attrs:{id:"运维效率"}},[a._v("运维效率")]),a._v(" "),s("p",[a._v("全链路追踪")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("Skywalking\nZipKin\nPinpoint\n")])])]),s("p",[a._v("统一日志平台")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("ELK\nGraylog\nLoki  \n")])])]),s("p",[a._v("统一监控平台")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("Promethues\n")])])]),s("p",[a._v("在线JVM诊断平台")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("Arthas(阿里)\nBistoury(去哪儿)\n")])])]),s("p",[a._v("服务治理平台")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("服务注册\n服务发现    \n")])])]),s("h2",{attrs:{id:"稳定"}},[a._v("稳定")]),a._v(" "),s("h3",{attrs:{id:"微服务的保障是稳定"}},[a._v("微服务的保障是稳定")]),a._v(" "),s("h4",{attrs:{id:"超时保护"}},[a._v("超时保护")]),a._v(" "),s("p",[a._v("没有什么比挂起的请求 和无响应的界面更令人失望。这不仅浪 费资源，而且还会让用户体验变得更差。良好 的超时策略，可以尽可能让服务不堆积请求。")]),a._v(" "),s("p",[a._v("超时设置：设置过长，会造成线程阻塞，可能会造成OOM，设置过短会造成频繁失败。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("nginx\n\ndubbo\n\nhttpClient\n\ndb\n")])])]),s("p",[a._v("超时传递：一个请求每个阶段开始前就要检查是否还有足够的剩余来处理请求。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("http的header里填充req-timeout字段，在设置httpClient的时候动态设置上timeOut。\n")])])]),s("h4",{attrs:{id:"过载保护"}},[a._v("过载保护")]),a._v(" "),s("p",[a._v("系统过载是指当前的外部请求量超过了系统的最大处理能力。其最终目标是在系统过载时，服务还能提供一个稳定的较高的处理能力。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("过载预防：\n  \n  压测\n\n过载处置\n\n  监控告警\n  弹性扩容\n  限流、熔断、降级\n\n过载恢复\n  \n  无状态应用：快速重启\n  有状态应用：按一定策略将状态持久化，重启之后加载持久化的状态数据，状态恢复\n")])])]),s("h4",{attrs:{id:"限流"}},[a._v("限流")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("单机限流\n  \n  guava\n\n分布式限流\n\n  redis\n  \n平台限流\n\n  sentinel\n")])])]),s("h4",{attrs:{id:"降级"}},[a._v("降级")]),a._v(" "),s("h4",{attrs:{id:"熔断"}},[a._v("熔断")]),a._v(" "),s("h4",{attrs:{id:"扩容"}},[a._v("扩容")]),a._v(" "),s("h4",{attrs:{id:"重试策略"}},[a._v("重试策略")]),a._v(" "),s("h4",{attrs:{id:"负载均衡"}},[a._v("负载均衡")]),a._v(" "),s("h4",{attrs:{id:"混沌工程"}},[a._v("混沌工程")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("混沌工程是一种帮助我们获得更多的关于系统的新认知的实验方法。\n\n它也可以视为流感疫苗，故意将有害物质注入体内以防止未来疾病，这似乎很疯狂，但这种方法也适用于分布式云系统。混沌工程会将故障注入系统以测试系统对其的响应。这使公司能够为宕机做准备，并在宕机发生之前将其影响降至最低。\n")])])])])}),[],!1,null,null,null);t.default=v.exports}}]);